{% extends "base.html" %}

{% block app-header %}
<link rel="stylesheet" href="/static/css/main.css">
<script src="/static/js/main.js"></script>
{% endblock %}

{% block content %}
<div class="row">
  <div class="col s12" id="overall">
    <h5 class="center-align" id="overall-status"></h5>
    <ul class="center-align" id="overall-status-list"></ul>
  </div>
  <div class="col s12">
    <ul class="tabs">
      {% for server in servers %}
        <li class="tab" data-name="{{server.name}}"><a href="#{{server.name}}">{{server.alias}} <small>(id={{server.name}})</small></a></li>
      {% endfor %}
    </ul>
  </div>


  {% for server in servers %}
    <div id="{{server.name}}" class="col s12">
      <div class="row">
        <p class="center-align toggle" id="most-usage-toggle"><span><b>Most CPU/MEM Usage Processes</b></span> <span id="most-usage-toggle-icon">&#x25BC;</span></p>

        <div class="col s12 l6 most-usage data-table">
          <table class="striped centered">
            <thead>
              <tr class="row">
                <th class="col s4">Name</th>
                <th class="col s4">CPU Usage</th>
                <th class="col s4">MEM Usage</th>
              </tr>
            </thead>
            <tbody>
              {% for i in "123" %}
               <tr class="row">
                <td class="col s4" id="{{server.name}}-proc{{i}}-cpu-name"></td>
                <td class="col s4" id="{{server.name}}-proc{{i}}-cpu-cpu"></td>
                <td class="col s4" id="{{server.name}}-proc{{i}}-cpu-mem"></td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>

        <div class="col s12 l6 most-usage data-table">
          <table class="striped centered">
            <thead>
              <tr class="row">
                <th class="col s4">Name</th>
                <th class="col s4">CPU Usage</th>
                <th class="col s4">MEM Usage</th>
              </tr>
            </thead>
            <tbody>
              {% for i in "123" %}
               <tr class="row">
                <td class="col s4" id="{{server.name}}-proc{{i}}-mem-name"></td>
                <td class="col s4" id="{{server.name}}-proc{{i}}-mem-cpu"></td>
                <td class="col s4" id="{{server.name}}-proc{{i}}-mem-mem"></td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>

      <div class="row">
          <p class="center-align toggle" id="backup-toggle"><span><b>Backup Status</b></span> <span id="backup-toggle-icon">&#x25BC;</span></p>
        <div class="col s12 backup data-table">
          <table class="striped centered">
            <thead>
              <th>Success</th>
              <th>Name</th>
              <th>Last Backup Time</th>
              <th class="right-align">Last Backup Size</th>
              <th class="right-align">Total Size</th>
            </thead>
            <tbody>
            </tbody>
          </table>
        </div>
      </div>

      <div class="col s12 l6">
        <canvas id="{{server.name}}-cpu" height="150px"></canvas>
      </div>
      <div class="col s12 l6">
        <canvas id="{{server.name}}-mem" height="150px"></canvas>
      </div>
      <div class="col s12 l6">
        <canvas id="{{server.name}}-net" height="150px"></canvas>
      </div>
      <div class="col s12 l6">
        <canvas id="{{server.name}}-disk" height="150px"></canvas>
      </div>
    </div>
  {% endfor %}
</div>
{% endblock %}
